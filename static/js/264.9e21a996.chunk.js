"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[264],{264:function(e,t,a){a.r(t);var n=a(861),s=a(439),r=a(757),c=a.n(r),i=a(791),o=a(87),l=a(689),u=a(44),d=a(331),m=a(184);t.default=function(){var e=(0,i.useState)(""),t=(0,s.Z)(e,2),a=t[0],r=t[1],h=(0,i.useState)([]),p=(0,s.Z)(h,2),f=p[0],x=p[1],g=(0,o.useSearchParams)(),v=(0,s.Z)(g,2),b=(v[0],v[1]),y=(0,i.useRef)(null),j=(0,l.TH)(),N=j.search.replace(/\?query=/,"");(0,i.useEffect)((function(){N&&(0,u.Pt)(N).then((function(e){console.log(e.data),x(e.data.results)}))}),[]);function w(e){return _.apply(this,arguments)}function _(){return(_=(0,n.Z)(c().mark((function e(t){var a,n,s,r,i,o,l;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t.currentTarget),t.preventDefault(),a=t.currentTarget.querySelector("img"),n=t.currentTarget.getElementsByClassName("img-box-backdrop")[0],s=t.currentTarget.getBoundingClientRect(),r=108.6-s.top,i=30-s.left,document.body.style.overflow="hidden",a.style.position="relative",a.style.zIndex="5",n.classList.add("backdrop"),a.style.transform="translate(".concat(i,"px, ").concat(r,"px)"),o=t.currentTarget.href,e.next=15,fetch(o);case 15:return l=e.sent,e.next=18,l.text();case 18:return e.sent,e.next=21,new Promise((function(e){return setTimeout((function(){e()}),1e3)}));case 21:window.location.href=l.url;case 22:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return(0,m.jsxs)("div",{children:[(0,m.jsx)("form",{onSubmit:function(e){e.preventDefault(),a&&((0,u.Pt)(a).then((function(e){console.log(e),x(e.data.results)})),b({query:a}),r(""),console.log(y.current),y.current.classList.add("input-box"))},children:(0,m.jsxs)("div",{className:"box",ref:y,children:[(0,m.jsx)("input",{className:"input",type:"text",onChange:function(e){var t=e.currentTarget.value;r(t.toLowerCase())},value:a,placeholder:"Search"}),(0,m.jsx)("button",{className:"search-btn",type:"submit",children:(0,m.jsx)("img",{className:"search-img",src:d,alt:""})})]})}),f.length>0&&(0,m.jsx)("ul",{className:"day-list",children:f.map((function(e){var t=e.original_title,a=e.id,n=e.poster_path,s=e.vote_average;return(0,m.jsx)("li",{className:"day-list-item",children:(0,m.jsxs)(o.Link,{onClick:w,className:"day-link",state:"".concat(j.pathname).concat(j.search),rel:"prefetch",href:"/movies/".concat(a),to:"/movies/".concat(a),children:[(0,m.jsxs)("div",{className:"img-box",children:[(0,m.jsx)("div",{className:"day-list-vote_average",children:s.toFixed(1)}),(0,m.jsx)("div",{className:"img-box-backdrop"}),(0,m.jsx)("img",{className:"img",src:"https://image.tmdb.org/t/p/w500/".concat(n),alt:""})]}),(0,m.jsx)("span",{className:"day-text",children:t})]})},a)}))}),(0,m.jsx)(l.j3,{})]})}},331:function(e,t,a){e.exports=a.p+"static/media/lupa.0dbff89973a905804bce.png"}}]);
//# sourceMappingURL=264.9e21a996.chunk.js.map